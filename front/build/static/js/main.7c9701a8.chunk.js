(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{3:function(e,a){e.exports={urlBack:"http://entrega3-load-GMA-1322736670.us-east-1.elb.amazonaws.com",disenno:"design",proyecto:"project",empresa:"business"}},34:function(e,a,t){e.exports=t(51)},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(19),l=t.n(o),s=(t(39),t(7)),c=t(8),i=t(5),m=t(10),d=t(9),u=(t(40),t(2)),p=t(6),h=(t(41),t(3)),g=t.n(h),E=t(53),f=t(54),b=t(55),v=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={data:{},id:void 0!==e.id.id?e.id.id:e.id,proyecto:e.proyecto},n.getDesign=n.getDesign.bind(Object(i.a)(n)),n.downloadImage=n.downloadImage.bind(Object(i.a)(n)),n.downloadImageProcesada=n.downloadImageProcesada.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=g.a.urlBack+"/"+g.a.proyecto+"/"+this.state.proyecto+"/"+g.a.disenno+"/"+this.state.id;fetch(a,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(a){null!=a&&0!==a.length&&e.setState({data:a})}))}},{key:"getDesign",value:function(){if(this.state.data.estado)return r.a.createElement("div",{className:"card text-center disenno_v2"},r.a.createElement("div",{className:"card-body"},this.state.data.estado?r.a.createElement("img",{src:"data:image/png;base64,".concat(this.state.data.diseno_original),className:"card-img design_image",alt:"..."}):r.a.createElement("div",{className:"rotation"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-spinner"}," ")))))}},{key:"downloadImage",value:function(){var e=prompt("Guardar como",""),a=document.createElement("a");null!=e&&(""===e?(a.download="Sin t\xedtulo",a.href="data:image/png;base64,".concat(this.state.data.diseno_original)):(a.download=e,a.href="data:image/png;base64,".concat(this.state.data.diseno_original)),a.click())}},{key:"downloadImageProcesada",value:function(){var e=prompt("Guardar como",""),a=document.createElement("a");null!=e&&(""===e?(a.download="Sin t\xedtulo",a.href="data:image/png;base64,".concat(this.state.data.diseno_procesado)):(a.download=e,a.href="data:image/png;base64,".concat(this.state.data.diseno_procesado)),a.click())}},{key:"render",value:function(){return r.a.createElement("div",{className:"col mb-4"},localStorage.getItem("token")?r.a.createElement("div",{className:"card text-center disenno"},r.a.createElement("div",{className:"card-header"},this.state.data.estado?"Disponible":" Procesando"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title email"},this.state.data.email),r.a.createElement("p",{className:"card-text author"},"Dise\xf1ador: ",this.state.data.nombre_disenador," ",this.state.data.apellido_disenador),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Subido el ",this.state.data.fecha_publicacion)),this.state.data.estado?r.a.createElement("img",{src:"data:image/png;base64,".concat(this.state.data.diseno_procesado),className:"card-img design_image",alt:"imagen_dise\xf1o"}):r.a.createElement("div",{className:"rotation"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-spinner"}," "))),r.a.createElement("h5",{className:"card-title precio"},"Precio: $ ",this.state.data.precio)),r.a.createElement("div",{className:"card-footer footer_disenno"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center download",onClick:this.downloadImage},r.a.createElement("p",null,"Original"),r.a.createElement("span",{className:"download_icon"},r.a.createElement("i",{className:"fas fa-download"}," ")))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row justify-content-center download",onClick:this.downloadImageProcesada},r.a.createElement("p",null,"Convertido"),r.a.createElement("span",{className:"download_icon"},r.a.createElement("i",{className:"fas fa-download"}," ")))))):this.getDesign())}}]),t}(r.a.Component),N=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handlePageClick=function(e){var a=Math.ceil(10*e);n.setState({offset:a,pageCount:e},(function(){n.loadProjectsFromServer()}))},n.previous=function(){if(n.state.pageCount>1){var e=n.state.pageCount-1,a=Math.ceil(10*e);n.setState({offset:a,pageCount:e},(function(){n.loadProjectsFromServer()}))}},n.next=function(){n.state.pageCount<Math.ceil(n.state.offset/10)&&n.setState({pageCount:n.state.pageCount+1},(function(){n.loadProjectsFromServer()}))},n.state={disennos:e.disennos,proyecto:e.proyecto,offset:10,pageCount:1,showToast:void 0!==e.showToast&&e.showToast},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(void 0===this.state.disennos||0===this.state.disennos.length){var a=g.a.urlBack+"/"+g.a.proyecto+"/"+this.state.proyecto.id+"/"+g.a.disenno+"/";fetch(a,{method:"GET",headers:{Authorization:"Token "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(a){null!=a&&0!==a.length&&e.setState({disennos:a})}))}}},{key:"create_navigation",value:function(){for(var e=this,a=Math.ceil(this.state.offset/10),t=[],n=1;n<=a;n++)t.push(n);return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){return e.previous()},"aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"))),t.map((function(a){return r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",key:a,onClick:function(){return e.handlePageClick(a)}},a))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){return e.next()},"aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb")))))}},{key:"add_icon",value:function(){if(!localStorage.getItem("token"))return r.a.createElement("div",{className:"col mb-4 text-center add_icon"},r.a.createElement(u.b,{to:{pathname:"".concat(this.props.path_url.url,"/create_design"),state:{proyecto:this.state.proyecto,disennos:this.state.disennos,path_url:this.props.path_url}}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-plus-circle"}))),0===this.state.disennos.length?r.a.createElement("h5",null,"No tienes dise\xf1os a\xfan"):r.a.createElement("h5",null,"A\xf1adir nuevo dise\xf1o"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(E.a,{className:"form-signin"},r.a.createElement(f.a,{xs:12},r.a.createElement(b.a,{onClose:function(){return e.setState({showToast:!e.state.showToast})},show:this.state.showToast,delay:3e3,autohide:!0},r.a.createElement(b.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Confirmaci\xf3n")),r.a.createElement(b.a.Body,null,"Hemos recibido tu dise\xf1o y lo estamos procesado para que sea publicado")))),r.a.createElement("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},r.a.createElement("h1",{className:"display-4"},"Dise\xf1os (",this.state.proyecto.nombre,")")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-cols-3"},this.add_icon(),this.state.disennos.map((function(a,t){return r.a.createElement(v,{key:t,id:a,proyecto:e.state.proyecto.id})}))),this.state.offset>10?this.create_navigation():r.a.createElement(r.a.Fragment,null)))}}]),t}(r.a.Component);var y=function(e){return r.a.createElement(N,{path_url:Object(p.h)(),proyecto:e.location.state.proyecto,disennos:e.location.state.disennos,showToast:e.location.state.showToast})},k=(t(47),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={data:e.informacion,disennos:e.disennos},n}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col mb-4"},r.a.createElement("div",{className:"card mb-4 shadow-sm projecto"},r.a.createElement("div",{className:"card-header cabezera_projecto"},r.a.createElement("h4",{className:"my-0 font-weight-normal"},this.state.data.nombre),localStorage.getItem("token")?r.a.createElement(u.b,{to:{pathname:"".concat(this.props.path_url.url,"/create_project"),state:{isUpdate:!0,data:this.state.data}}},r.a.createElement("span",{className:"icon_edit"},r.a.createElement("i",{className:"fas fa-edit"}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title pricing-card-title"},"$",this.state.data.valor,r.a.createElement("small",{className:"text-muted"},"/ COP")),r.a.createElement("p",{className:"card-text"},this.state.data.descripcion),r.a.createElement(u.b,{to:{pathname:"".concat(this.props.path_url.url,"/designs"),state:{disennos:this.state.disennos,proyecto:this.state.data}}},r.a.createElement("button",{type:"button",className:"btn btn-lg btn-block btn-outline-primary ir_boton"},"Ir")))))}}]),t}(r.a.Component)),C=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handlePageClick=function(e){var a=Math.ceil(10*e);n.setState({offset:a,pageCount:e},(function(){n.loadProjectsFromServer()}))},n.previous=function(){if(n.state.pageCount>1){var e=n.state.pageCount-1,a=Math.ceil(10*e);n.setState({offset:a,pageCount:e},(function(){n.loadProjectsFromServer()}))}},n.next=function(){n.state.pageCount<Math.ceil(n.state.offset/10)&&n.setState({pageCount:n.state.pageCount+1},(function(){n.loadProjectsFromServer()}))},n.state={path_url:e.path_url,proyectos:[],offset:10,pageCount:1},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadProjectsFromServer()}},{key:"loadProjectsFromServer",value:function(){var e=this,a=localStorage.getItem("url"),t=g.a.urlBack+"/"+g.a.empresa+"/"+a+"/"+g.a.proyecto+"/";a||(t=g.a.urlBack+"/"+g.a.empresa+"/"+this.props.url_empresa+"/"+g.a.proyecto+"/"),fetch(t,{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(a){if(null!=a&&0!==a.length){var t=a.filter((function(e){return e})).slice(10*(e.state.pageCount-1),e.state.offset);e.setState({proyectos:t,offset:a.length})}}))}},{key:"create_navigation",value:function(){for(var e=this,a=Math.ceil(this.state.offset/10),t=[],n=1;n<=a;n++)t.push(n);return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){return e.previous()},"aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"))),t.map((function(a){return r.a.createElement("li",{className:"page-item",key:a},r.a.createElement("span",{className:"page-link",onClick:function(){return e.handlePageClick(a)}},a))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){return e.next()},"aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb")))))}},{key:"add_icon",value:function(){if(localStorage.getItem("token"))return r.a.createElement("div",{className:"col mb-4 text-center add_icon"},r.a.createElement(u.b,{to:{pathname:"".concat(this.state.path_url.url,"/create_project"),state:{isUpdate:!1}}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-plus-circle"}))),0===this.state.proyectos.length?r.a.createElement("h5",null,"No tienes proyectos a\xfan"):r.a.createElement("h5",null,"A\xf1adir nuevo proyecto"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},r.a.createElement("h1",{className:"display-4"},"Proyectos")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-cols-3"},this.add_icon(),this.state.proyectos.map((function(a){return r.a.createElement(k,{key:a.id,informacion:{id:a.id,nombre:a.nombre,valor:a.valor,descripcion:a.descripcion},disennos:a.dise\u00f1os,path_url:e.state.path_url})}))),this.state.offset>10?this.create_navigation():r.a.createElement(r.a.Fragment,null)))}}]),t}(r.a.Component),j=t(18),w=t(17),O=(t(48),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isUpdate:void 0!==e.location.state&&e.location.state.isUpdate,isCreate:!1,data:void 0===e.location.state?{}:void 0!==e.location.state.data?e.location.state.data:{}},n.verificarForm=n.verificarForm.bind(Object(i.a)(n)),n.deleteProject=n.deleteProject.bind(Object(i.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(w.a)({},n,t))}},{key:"verificarForm",value:function(){var e=document.getElementsByClassName("needs-validation"),a=this;Array.prototype.filter.call(e,(function(e){e.addEventListener("submit",(function(t){if(!1===e.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault(),t.stopPropagation();var n=Object(j.a)({},a.state);delete n.isUpdate,delete n.isCreate;var r=g.a.urlBack+"/"+g.a.proyecto+"/",o="POST";a.state.isUpdate?(r+=n.data.id,o="PUT"):delete n.data,console.log(n);var l=new FormData;for(var s in n)if("data"!==s)l.delete(s.toString()),l.append(s.toString(),n[s]);else for(var c in n[s])l.append(c.toString(),n[s][c]);fetch(r,{method:o,body:l,headers:{Authorization:"Token "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){a.setState({isCreate:!0})}))}e.classList.add("was-validated")}),!1)}))}},{key:"deleteProject",value:function(){var e=document.getElementsByClassName("needs-validation"),a=this;Array.prototype.filter.call(e,(function(e){e.addEventListener("submit",(function(e){e.preventDefault(),e.stopPropagation();var t=Object(j.a)({},a.state),n=g.a.urlBack+"/"+g.a.proyecto+"/";a.state.isUpdate&&(n+=t.data.id),fetch(n,{method:"DELETE",headers:{Authorization:"Token "+localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){a.setState({isCreate:!0})}))}),!1)}))}},{key:"render",value:function(){return this.state.isCreate?r.a.createElement(p.a,{to:{pathname:"/main"}}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("h2",null,this.state.isUpdate?"Actualizar":"Crear"," Proyecto"),this.state.isUpdate?r.a.createElement("p",{className:"lead"},"A continuaci\xf3n se le mostrara la informaci\xf3n relacionada con el proyecto. Por favor modifique los campos que crea necesarios y oprima el bot\xf3n ",r.a.createElement("b",null,"Actualizar proyecto")):r.a.createElement("p",{className:"lead"},"A continuaci\xf3n se le mostrara diferentes campos que debe completar. Por favor rellene todos los campos y oprima en el bot\xf3n ",r.a.createElement("b",null,"Crear proyecto"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:this.state.isUpdate?"col-md-8 order-md-1":"col-md-8"},r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md mb-3"},r.a.createElement("label",{htmlFor:"nombreProyecto"},"Nombre Proyecto",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),this.state.isUpdate?r.a.createElement("input",{type:"text",className:"form-control",id:"nombreProyecto",name:"nombre",onChange:this.handleInputChange,placeholder:this.state.data.nombre}):r.a.createElement("input",{type:"text",className:"form-control",id:"nombreProyecto",name:"nombre",onChange:this.handleInputChange,placeholder:"Ingrese un nombre",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"El nombre del proyecto es obligatorio."))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"descripccion"},"Descripci\xf3n",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),this.state.isUpdate?r.a.createElement("textarea",{rows:"3",className:"form-control",id:"descripccion",name:"descripcion",onChange:this.handleInputChange,placeholder:this.state.data.descripcion}):r.a.createElement("textarea",{rows:"3",className:"form-control",id:"descripccion",name:"descripcion",onChange:this.handleInputChange,placeholder:"Ingrese una descripci\xf3n",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Por favor ingresa una descripci\xf3n.")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"valor"},"Valor Estimado a Pagar",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),this.state.isUpdate?r.a.createElement("input",{type:"number",className:"form-control",id:"valor",name:"valor",onChange:this.handleInputChange,placeholder:this.state.data.valor}):r.a.createElement("input",{type:"number",className:"form-control",id:"valor",name:"valor",onChange:this.handleInputChange,placeholder:"Ingrese un valor a pagar",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"El valor es obligatorio.")),r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",type:"submit",onClick:this.verificarForm},this.state.isUpdate?"Actualizar":"Crear"," Proyecto"),this.state.isUpdate?r.a.createElement("button",{className:"btn btn-danger btn-lg btn-block",type:"submit",onClick:this.deleteProject},"Eliminar"):r.a.createElement("div",null)))))}}]),t}(r.a.Component)),_=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isLogged:void 0!==localStorage.getItem("token"),url_empresa:localStorage.getItem("url")},n.logOut=n.logOut.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLogged:!1})}},{key:"logOut",value:function(){localStorage.removeItem("token"),localStorage.removeItem("url"),this.setState({isLogged:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},null!==this.state.url_empresa?"Dominio: "+this.state.url_empresa:"Bienvenido"),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement(u.b,{to:{pathname:"/"}},r.a.createElement("span",{className:"p-2 text-dark"},"Home")),localStorage.getItem("token")?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:{pathname:"/main"}},r.a.createElement("span",{className:"p-2 text-dark"},"Ver Proyectos")),r.a.createElement(u.b,{to:{pathname:"main/create_project",state:{isUpdate:!1}}},r.a.createElement("span",{className:"p-2 text-dark"},"Crear Proyecto"))):r.a.createElement(r.a.Fragment,null)),r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.logOut},localStorage.getItem("token")?"Salir":"Ingresar"))),r.a.createElement("div",{className:"cover-container d-flex w-100 h-100 p-3 mx-auto flex-column text-center"},r.a.createElement("main",{role:"main",className:"inner cover"},r.a.createElement("h1",{className:"cover-heading"},"SaaS"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam quis justo vestibulum, malesuada libero sed, consequat leo. Quisque purus elit, semper sed euismod quis, sagittis id felis. Suspendisse imperdiet vehicula laoreet. Aenean vel metus ut felis lobortis mollis sed nec risus."),r.a.createElement("p",null,r.a.createElement(u.b,{to:{pathname:"/main"}},localStorage.getItem("token")?r.a.createElement("button",{className:"btn btn-lg btn-outline-primary"},"Proyectos"):r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"btn btn-outline-primary"},"Ingresar"))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/create_project"),exact:!0,component:O}),r.a.createElement(p.b,{path:"main",exact:!0},r.a.createElement(C,{path_url:this.props.path_url})),r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/designs"),exact:!0,component:y}))))))}}]),t}(r.a.Component);var x=function(){return r.a.createElement(_,{path_url:Object(p.h)()})},I=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isLogged:!0,url_empresa:localStorage.getItem("url")},n.logOut=n.logOut.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"logOut",value:function(){localStorage.removeItem("token"),localStorage.removeItem("url"),this.setState({isLogged:!1})}},{key:"render",value:function(){return this.state.isLogged?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},void 0!==this.state.url_empresa?"Dominio: "+this.state.url_empresa:"Bienvenido"),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement(u.b,{to:{pathname:"/"}},r.a.createElement("span",{className:"p-2 text-dark"},"Home")),r.a.createElement(u.b,{to:{pathname:"/main"}},r.a.createElement("span",{className:"p-2 text-dark"},"Ver Proyectos")),r.a.createElement(u.b,{to:{pathname:"".concat(this.props.path_url.path,"/create_project"),state:{isUpdate:!1}}},r.a.createElement("span",{className:"p-2 text-dark"},"Crear Proyecto"))),r.a.createElement(u.b,{to:"/"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.logOut}," Salir"))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/create_project"),exact:!0,component:O}),r.a.createElement(p.b,{path:"".concat(this.props.path_url.path),exact:!0},r.a.createElement(C,{path_url:this.props.path_url})),r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/designs"),exact:!0,component:y}))):r.a.createElement(p.a,{to:"/login"})}}]),t}(r.a.Component);var S=function(){return r.a.createElement(I,{path_url:Object(p.h)()})},P=(t(49),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isCreate:!1,proyecto:void 0!==e.location.state?e.location.state.proyecto:""},n.verificarForm=n.verificarForm.bind(Object(i.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"handleInputChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(w.a)({},n,t))}},{key:"verificarForm",value:function(){var e=document.getElementsByClassName("needs-validation"),a=this;Array.prototype.filter.call(e,(function(e){e.addEventListener("submit",(function(t){if(!1===e.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault(),t.stopPropagation();var n=Object(j.a)({},a.state);delete n.isCreate;var r=g.a.urlBack+"/"+g.a.proyecto+"/"+a.state.proyecto.id+"/"+g.a.disenno+"/",o=new FormData;for(var l in o.append("estado",!1),o.append("proyecto",a.state.proyecto.id),n)o.append(l.toString(),n[l]);var s=document.getElementById("imagen").files[0],c=new Image;c.onload=function(){this.width<800||this.height<600?alert("La imagen debe ser minimo de 800x600"):(o.append("diseno_original",s),fetch(r,{method:"POST",body:o}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){a.setState({isCreate:!0})})))},c.src=URL.createObjectURL(s)}e.classList.add("was-validated")}),!1)}))}},{key:"render",value:function(){return this.state.isCreate?r.a.createElement(p.a,{to:{pathname:"".concat(this.props.location.state.path_url.url),state:{showToast:!0,disennos:this.props.location.state.disennos,proyecto:this.state.proyecto}}}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("h2",null,"Subir Dise\xf1o"),r.a.createElement("p",{className:"lead"},"A continuaci\xf3n se le mostrara diferentes campos que debe completar. Por favor rellene todos los campos y oprima en el bot\xf3n ",r.a.createElement("b",null,"Crear Dise\xf1o"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md mb-3"},r.a.createElement("label",{htmlFor:"nombreDise\xf1ador"},"Nombre",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),r.a.createElement("input",{type:"text",className:"form-control",id:"nombreDise\xf1ador",name:"nombre_disenador",onChange:this.handleInputChange,placeholder:"Ingrese su nombre completo",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"El nombre del dise\xf1ador es obligatorio."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md mb-3"},r.a.createElement("label",{htmlFor:"apellidoDise\xf1ador"},"Apellido",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),r.a.createElement("input",{type:"text",className:"form-control",id:"apellidoDise\xf1ador",name:"apellido_disenador",onChange:this.handleInputChange,placeholder:"Ingrese sus apellidos",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Los apellidos son obligatorios."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md mb-3"},r.a.createElement("label",{htmlFor:"inputEmail"},"Correo Electr\xf3nico"),r.a.createElement("input",{type:"email",onChange:this.handleInputChange,id:"inputEmail",name:"email_disenador",className:"form-control",placeholder:"Ingresa tu correo electr\xf3nico",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Por favor ingresa un correo electr\xf3nico valido."))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"valor"},"Valor del Dise\xf1o",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")),r.a.createElement("input",{type:"number",className:"form-control",id:"valor",name:"precio",onChange:this.handleInputChange,placeholder:"Ingrese un valor",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"El valor es obligatorio.")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("label",{htmlFor:"valor"},"Subir dise\xf1o",r.a.createElement("span",{className:"text-muted"},"(Obligatorio)")))),r.a.createElement("input",{type:"file",id:"imagen"})),r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",type:"submit",onClick:this.verificarForm},"Crear Dise\xf1o")))))}}]),t}(r.a.Component)),F=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},void 0!==this.props.url_empresa?"Dominio: "+this.props.url_empresa.empresaId:"Bienvenido"),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement(u.b,{to:{pathname:"".concat(this.props.path_url.url)}},r.a.createElement("span",{className:"p-2 text-dark"},"Ver Proyectos")))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"".concat(this.props.path_url.path),exact:!0},r.a.createElement(C,{path_url:this.props.path_url,url_empresa:this.props.url_empresa.empresaId})),r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/designs/create_design"),exact:!0,component:P}),r.a.createElement(p.b,{path:"".concat(this.props.path_url.path,"/designs"),exact:!0,component:y})))}}]),t}(r.a.Component);var L=function(){return r.a.createElement(F,{path_url:Object(p.h)(),url_empresa:Object(p.g)()})},D=(t(50),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isLogged:!!localStorage.getItem("token"),isLogin:!0,show:!1},n.changeIsLogin=n.changeIsLogin.bind(Object(i.a)(n)),n.verificarForm=n.verificarForm.bind(Object(i.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n.setSession=n.setSession.bind(Object(i.a)(n)),n}return Object(c.a)(t,[{key:"changeIsLogin",value:function(){this.setState({isLogin:!this.state.isLogin})}},{key:"setSession",value:function(e){e.token&&(localStorage.setItem("token",e.token),localStorage.setItem("url",e.url),this.setState({isLogged:!0}))}},{key:"handleInputChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(w.a)({},n,t))}},{key:"verificarForm",value:function(){var e=document.getElementsByClassName("needs-validation"),a=this,t=Object(j.a)({},this.state);delete t.isLogin,delete t.show,Array.prototype.filter.call(e,(function(e){e.addEventListener("submit",(function(n){if(!1===e.checkValidity())n.preventDefault(),n.stopPropagation();else{n.preventDefault(),n.stopPropagation();var r=g.a.urlBack+"/"+g.a.empresa+"/create";a.state.isLogin&&(r=g.a.urlBack+"/auth/");var o=new FormData;for(var l in t)o.append(l.toString(),t[l]);fetch(r,{method:"POST",body:o}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){void 0!==e&&e.token?a.setSession(e):void 0!==e&&e.email?(r=g.a.urlBack+"/auth/",(o=new FormData).append("email",e.email),o.append("contrase\xf1a",e["contrase\xf1a"]),fetch(r,{method:"POST",body:o}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return a.setSession(e)}))):a.setState({show:!a.state.show})}))}e.classList.add("was-validated")}),!1)}))}},{key:"render",value:function(){var e=this;return this.state.isLogged?r.a.createElement(p.a,{to:{pathname:"/main"}}):r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},"Bienvenido"),r.a.createElement(u.b,{to:{pathname:"/"}},r.a.createElement("span",{className:"p-2 text-dark"},"Home")),r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.changeIsLogin}," ",this.state.isLogin?"Registrarse":"Ingresar"))),r.a.createElement("div",{className:"text-center login_signup"},r.a.createElement(E.a,{className:"form-signin"},r.a.createElement(f.a,{xs:12},r.a.createElement(b.a,{onClose:function(){return e.setState({show:!e.state.show})},show:this.state.show,delay:1e4,autohide:!0},r.a.createElement(b.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},this.state.isLogin?"Ingreso":"Registro"," Fallido")),r.a.createElement(b.a.Body,null,"Por favor vuelve a intentarlo.")))),this.state.isLogin?r.a.createElement("form",{className:"form-signin needs-validation",noValidate:!0},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Por favor Ingresa"),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Correo Electr\xf3nico"),r.a.createElement("input",{type:"email",onChange:this.handleInputChange,id:"inputEmail",name:"email",className:"form-control",placeholder:"Correo Electr\xf3nico",required:!0,autoFocus:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Por favor ingresa un correo electr\xf3nico valido."),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",onChange:this.handleInputChange,id:"inputPassword",name:"contrase\xf1a",className:"form-control",placeholder:"Contrase\xf1a",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Ingresa una contrase\xf1a."),r.a.createElement("div",{className:"etc-login-form"},r.a.createElement("p",null,"No tienes una cuenta a\xfan? ",r.a.createElement("strong",{className:"signUp",onClick:this.changeIsLogin},"Registrate Aqu\xed"))),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",onClick:this.verificarForm},"Ingresa")):r.a.createElement("form",{className:"form-signin needs-validation",noValidate:!0},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Por favor Registrate"),r.a.createElement("label",{htmlFor:"inputNombreEmpresa",className:"sr-only"},"Nombre Empresa"),r.a.createElement("input",{type:"text",onChange:this.handleInputChange,id:"inputNombreEmpresa",name:"nombre",className:"form-control",placeholder:"Empresa",required:!0,autoFocus:!0}),r.a.createElement("div",{className:"invalid-feedback"},"El nombre de la empresa es requerido."),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Correo Electr\xf3nico"),r.a.createElement("input",{type:"email",onChange:this.handleInputChange,id:"inputEmail",className:"form-control",name:"email",placeholder:"Correo Electr\xf3nico",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Por favor ingresa un correo electr\xf3nico valido."),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",onChange:this.handleInputChange,id:"inputPassword",className:"form-control",name:"contrase\xf1a",placeholder:"Contrase\xf1a",required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Se requiere una contrase\xf1a para continuar."),r.a.createElement("label",{htmlFor:"inputConfirmPassword",className:"sr-only"},"Confirmar Contrase\xf1a"),r.a.createElement("input",{type:"password",id:"inputConfirmPassword",className:"form-control",name:"contrase\xf1a2",placeholder:"Repite la Contrase\xf1a",required:!0}),r.a.createElement("div",{className:"etc-login-form"},r.a.createElement("p",null,"ya tienes una cuenta? ",r.a.createElement("strong",{className:"signUp",onClick:this.changeIsLogin},"Ingresa Aqu\xed"))),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",onClick:this.verificarForm},"Registrate"))))}}]),t}(r.a.Component)),q=(r.a.Component,function(e){return localStorage.getItem("token")?r.a.createElement(p.b,e):r.a.createElement(p.a,{to:"/login"})});function B(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:x}),r.a.createElement(q,{path:"/main",component:S}),r.a.createElement(p.b,{path:"/login",exact:!0,component:D}),r.a.createElement(p.b,{path:"/:empresaId",component:L})))}l.a.render(r.a.createElement(u.a,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7c9701a8.chunk.js.map